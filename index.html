<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Dec 29, 2010 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Krazip - Krazip</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
      <meta name="author" content="Pongvech Vechprasit (pun@abctech-thailand.com)" />
    <meta name="Date-Creation-yyyymmdd" content="20101112" />
    <meta name="Date-Revision-yyyymmdd" content="20101229" />
    <meta http-equiv="Content-Language" content="en" />
        
  </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                Krazip
                </div>
                          <div id="bannerRight">
                                                <img src="images/abc_api.png" alt="ABC Tech and A-Pressen Logo" />
                </div>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="projectVersion">Version: 1.14-SNAPSHOT</span>
              </div>
            <div class="xright">                    <a href="http://www.abctech-thailand.com" class="externalLink" title="ABC Tech Ltd.(Thailand)">ABC Tech Ltd.(Thailand)</a>
            |
                        <a href="http://www.apdm.no" class="externalLink" title="A-Pressen Digitale Medier (Norway)">A-Pressen Digitale Medier (Norway)</a>
              
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                          <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                  <li class="expanded">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                    <ul>
                      <li class="none">
            <strong>About</strong>
          </li>
                      <li class="none">
                          <a href="integration.html" title="Continuous Integration">Continuous Integration</a>
            </li>
                      <li class="none">
                          <a href="dependencies.html" title="Dependencies">Dependencies</a>
            </li>
                      <li class="none">
                          <a href="issue-tracking.html" title="Issue Tracking">Issue Tracking</a>
            </li>
                      <li class="none">
                          <a href="mail-lists.html" title="Mailing Lists">Mailing Lists</a>
            </li>
                      <li class="none">
                          <a href="plugin-management.html" title="Plugin Management">Plugin Management</a>
            </li>
                      <li class="none">
                          <a href="license.html" title="Project License">Project License</a>
            </li>
                      <li class="none">
                          <a href="plugins.html" title="Project Plugins">Project Plugins</a>
            </li>
                      <li class="none">
                          <a href="project-summary.html" title="Project Summary">Project Summary</a>
            </li>
                      <li class="none">
                          <a href="team-list.html" title="Project Team">Project Team</a>
            </li>
                      <li class="none">
                          <a href="source-repository.html" title="Source Repository">Source Repository</a>
            </li>
              </ul>
        </li>
                                                                                                                          <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
        
                <div id="lastPublished">
        <span id="publishDate">Last Published: 29/12 2010</span>
              </div>
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <img src="images/Krazip_logo.png" alt="" /><div class="section"><h2>Krazip Overview<a name="Krazip_Overview"></a></h2><!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ --><p>Krazip is a <b>CruiseControl plug-in</b> for sending <b>live</b> build results to an <b>IRC</b> channel. It also has functionality for interaction with user in IRC via commands. For instance, you can override the logging level by type &quot;krazip logging <i>new logging level</i>&quot;. Krazip will override the logging level found in config.xml file. Details of the functionality will be described later.</p><p>Krazip was developed on <a class="externalLink" href="http://cruisecontrol.sourceforge.net/">CruiseControl version 2.8.4</a> and use external irclib.jar for IRC communication library. You can find more information and download the library file from <a class="externalLink" href="http://moepii.sourceforge.net/">http://moepii.sourceforge.net/</a></p><p>Krazip were developed by APDM Team at <a class="externalLink" href="http://www.abctech-thailand.com">ABC Tech Ltd.</a> (Thailand).</p><p>Presentations of Krazip:</p><ul><li><a href="./presentation/krazip/presentation.html">Krazip, general presentation and overview</a></li><li><a href="./presentation/krazip_technical/presentation.html">A technical presentation of Krazip</a></li></ul><img src="images/KrazipOverview.png" alt="" /></div><div class="section"><h2>With Krazip installed on your CruiseControl you will be able to :<a name="With_Krazip_installed_on_your_CruiseControl_you_will_be_able_to_:"></a></h2><!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ --><ul><li>Receive live build result from CruiseControl server via IRC message</li><li>Config Krazip logging level to &quot;Pass&quot; to receive every build result, &quot;Fail&quot; for only fail and fixed build and &quot;Off&quot; to turn off the notification from Krazip completely</li><li>Follow particular project. When you follow a project, you will receive every build message for that project, even the Krazip logging is turned off.</li><li>Ask for the latest build result for particular project. Sometime you just need to know the state of the build, you can just type &quot;krazip ProjectName&quot;</li><li>(Optional) Mapping email or name in CruiseControl log file with IRC user name with krazip.properties file</li></ul><div class="section"><h3>Krazip Usage and Command in IRC<a name="Krazip_Usage_and_Command_in_IRC"></a></h3><!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ --><p>To interact with Krazip. You just type &quot;krazip&quot; (or whichever IRC name that was configured) followed by a command. You send Krazip a private message by typing &quot;/msg krazip <i>command</i>&quot;</p><table align="center" border="1" class="bodyTable"><tr class="a"><th align="left">Command</th><th align="left">Description</th><th align="left">Example</th></tr><tr class="b"><td align="left">help</td><td align="left">Display help message</td><td align="left"><i>krazip help</i></td></tr><tr class="a"><td align="left">list</td><td align="left">List project and following project</td><td align="left"><i>krazip list</i></td></tr><tr class="b"><td align="left">projectName</td><td align="left">Display latest build result</td><td align="left"><i>krazip someProjectName</i></td></tr><tr class="a"><td align="left">logging</td><td align="left">Display or Override current Krazip logging level</td><td align="left"><i>krazip logging</i> or <i>krazip logging {pass}{fail}{off}</i></td></tr><tr class="b"><td align="left">follow</td><td align="left">To follow a project</td><td align="left"><i>krazip follow someProjectName</i></td></tr><tr class="a"><td align="left">unfollow</td><td align="left">To stop following a project</td><td align="left"><i>krazip unfollow someProjectName</i></td></tr></table><hr /></div></div><div class="section"><h2>Krazip Installation on CruiseControl 2.8.4<a name="Krazip_Installation_on_CruiseControl_2.8.4"></a></h2><!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ --><p>In short, to install Krazip you need threes things. First CruiseControl that running OK. Secondly, a Krazip library which is the heart of the Krazip. And, finally, CruiseControl configuration of Krazip. Try to follow the steps below.</p><div class="section"><h3>First, of course, you need a CruiseControl<a name="First_of_course_you_need_a_CruiseControl"></a></h3><!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ --><ul><li>CruiseControl binary distribution version 2.8.4: <a class="externalLink" href="http://cruisecontrol.sourceforge.net/">http://cruisecontrol.sourceforge.net/</a></li><li>Download and install it</li><li>Make sure everything is working, and then go to next step</li></ul></div><div class="section"><h3>Install Krazip on CruiseControl is very simple, please follow steps below<a name="Install_Krazip_on_CruiseControl_is_very_simple_please_follow_steps_below"></a></h3><!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ --><ul><li>You need Krazip library (krazip{version}.jar)</li><li>Next you just go to where you installed CruiseControl and enter &quot;lib&quot; folder</li><li>Add Krazip library to &quot;lib&quot; folder</li><li>And you are done!(Now you need to configure it, please see in next section)</li></ul></div></div><div class="section"><h2>Krazip Configuration (config.xml)<a name="Krazip_Configuration_config.xml"></a></h2><!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ --><p>First of all, because Krazip is not a bundled plug-in with CruiseControl. Therefore, you need to register it within config.xml file. Please see the example of plug-in registration below.</p><div class="source"><pre>&lt;plugin name=&quot;krazip&quot; classname=&quot;net.sourceforge.cruisecontrol.publishers.KrazipIRCPublisher&quot;/&gt;</pre></div><p>The registration part comes right after the open <i>cruisecontrol</i> element.</p><p>Here you go. Now the plug-in is registered. Now, next step is to configure the Krazip it-self.</p><p>Krazip is the plug-in for sending build result. Therefore, the Krazip configration part is resides in <i>publisher</i> element. Please see below for more an example.</p><div class="source"><pre>       &lt;publishers&gt;
           &lt;krazip
               host=&quot;irchost&quot;
               port=&quot;6667&quot;
               channel=&quot;#krazip&quot;
               resulturl=&quot;http://localhost:8080/cruisecontrol/buildresults/${project.name}&quot; /&gt;
               logginglevel=&quot;pass&quot;
               nickName=&quot;krazip&quot;
        &lt;/publishers&gt;</pre></div><div class="section"><h3>There are some attributes you can config for Krazip<a name="There_are_some_attributes_you_can_config_for_Krazip"></a></h3><!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ --><table align="center" border="1" class="bodyTable"><tr class="a"><td align="left"><b>Attribute</b></td><td align="left"><b>Description</b></td><td align="left"><b>Note</b></td></tr><tr class="b"><td align="left">nickName</td><td align="left">Nick to use on the irc server</td><td align="left">*Optional* Defaults to &quot;krazip&quot;</td></tr><tr class="a"><td align="left">host</td><td align="left">URL for IRC server</td><td align="left">*Required*</td></tr><tr class="b"><td align="left">port</td><td align="left">IRC port</td><td align="left">*Optional* Default to 6667</td></tr><tr class="a"><td align="left">channel</td><td align="left">IRC channel for Krazip to publish</td><td align="left">*Required*</td></tr><tr class="b"><td align="left">resulturl</td><td align="left">An URL for log file</td><td align="left">*Optional* (Set this if you want to append a link to build log when build fail)</td></tr><tr class="a"><td align="left">logginglevel</td><td align="left">Logging level for Krazip</td><td align="left">*Optional* Can be &quot;Pass&quot;, &quot;Fail&quot; or &quot;off&quot;. Default is &quot;Fail&quot; (Report only fail or fixed build.</td></tr><tr class="b"><td align="left">usenotice</td><td align="left">Use NOTICE method for publishing message</td><td align="left">*Optional* Set to &quot;true&quot; if you want to use NOTICE method</td></tr></table></div><div class="section"><h3>Example of config.xml configured Krazip to run with CruiseControl sample project<a name="Example_of_config.xml_configured_Krazip_to_run_with_CruiseControl_sample_project"></a></h3><!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ --><div class="source"><pre>&lt;cruisecontrol&gt;

   &lt;plugin name=&quot;krazip&quot; classname=&quot;net.sourceforge.cruisecontrol.publishers.KrazipIRCPublisher&quot;/&gt;

    &lt;project name=&quot;connectfour&quot;&gt;
        &lt;listeners&gt;
            &lt;currentbuildstatuslistener file=&quot;logs/${project.name}/status.txt&quot;/&gt;
        &lt;/listeners&gt;

        &lt;bootstrappers&gt;
            &lt;antbootstrapper anthome=&quot;apache-ant-1.7.0&quot; buildfile=&quot;projects/${project.name}/build.xml&quot; target=&quot;clean&quot; /&gt;
        &lt;/bootstrappers&gt;

        &lt;modificationset quietperiod=&quot;15&quot;&gt;
            &lt;!-- touch any file in connectfour project to trigger a build --&gt;
            &lt;filesystem folder=&quot;projects/${project.name}&quot;/&gt;
        &lt;/modificationset&gt;

        &lt;schedule interval=&quot;30&quot;&gt;
            &lt;ant anthome=&quot;apache-ant-1.7.0&quot; buildfile=&quot;projects/${project.name}/build.xml&quot;/&gt;
        &lt;/schedule&gt;

        &lt;log&gt;
            &lt;merge dir=&quot;projects/${project.name}/target/test-results&quot;/&gt;
        &lt;/log&gt;

        &lt;publishers&gt;
           &lt;krazip host=&quot;somehost&quot;
               port=&quot;6667&quot;
               channel=&quot;#krazip&quot;
               resulturl=&quot;http://localhost:8080/cruisecontrol/buildresults/${project.name}&quot; /&gt;
            &lt;onsuccess&gt;
                &lt;artifactspublisher dest=&quot;artifacts/${project.name}&quot; file=&quot;projects/${project.name}/target/${project.name}.jar&quot;/&gt;
            &lt;/onsuccess&gt;
        &lt;/publishers&gt;

    &lt;/project&gt;
&lt;/cruisecontrol&gt;</pre></div></div></div><div class="section"><h2>Optional : Configure Krazip to report build participant with IRC nickname<a name="Optional_:_Configure_Krazip_to_report_build_participant_with_IRC_nickname"></a></h2><!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ --><p>Normally when build failed, Krazip will report build result to IRC channel with message like below. You may don't want to do this if you already happy with the default behavior.</p><div class="source"><pre>  &quot;krazip&quot; build failed. Includes changes by pun@abctech-thailand.com. ((http://abctech-thailand.com/cruisecontrol/buildresults/krazip?log=log20101117154430))</pre></div><p>By default, Krazip will retrieves build participant email from modification element in CruiseControl log. (Email or user if email is not found) Please see below for an example of cruisecontrol log...</p><div class="source"><pre>&lt;modification type=&quot;git&quot;&gt;
      &lt;file action=&quot;modified&quot;&gt;
        &lt;revision&gt;1290418876&lt;/revision&gt;
        &lt;filename&gt;src/main/java/net/sourceforge/cruisecontrol/publishers/KrazipIRCPublisher.java&lt;/filename&gt;
      &lt;/file&gt;
      &lt;file action=&quot;modified&quot;&gt;
        &lt;revision&gt;1290418876&lt;/revision&gt;
        &lt;filename&gt;src/site/apt/index.apt&lt;/filename&gt;
      &lt;/file&gt;
      &lt;date&gt;2010-11-22T09:41:16&lt;/date&gt;
      &lt;user&gt;Pongvech Vechprasit(Pun)&lt;/user&gt;
      &lt;comment&gt;&lt;![CDATA[Added instruction on how to mapping name in Krazip]]&gt;&lt;/comment&gt;
      &lt;revision&gt;1290418876&lt;/revision&gt;
      &lt;email&gt;pun@abctech-thailand.com&lt;/email&gt;
    &lt;/modification&gt;
</pre></div><p>From the example CruiseControl log above. Krazip will use pun@abctech-thailand.com as a build participant. However if email is not found, user will be used instead.</p><p>If you want to use IRC nickname for reporting, you could mapping them with IRC nickname with krazip.properties file. The instruction is very easy. You just have to <b>create the krazip.properties in CruiseControl root folder.</b> Then add the mapping values like below.</p><div class="source"><pre> pun@abctech-thailand.com = pun
 somebody@abctech-thailand.com = Somebody</pre></div><p>From the example build message above, it will be turned into something like...</p><div class="source"><pre>  &quot;krazip&quot; build failed. Includes changes by pun. ((http://dev.abctech-thailand.com/cruisecontrol/buildresults/krazip?log=log20101117154430))</pre></div></div><div class="section"><h2>Troubleshooting : Krazip build fail because cruisecontrol.jar is missing<a name="Troubleshooting_:_Krazip_build_fail_because_cruisecontrol.jar_is_missing"></a></h2><!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ --><p>When developing Krazip, we need a cruisecontrol.jar as it required by Maven. (In the pom.xml). This jar file could not be found in Maven repository online. Therefore, we need to add the cruisecontrol.jar to local repo manually. Please follow the step below</p><ul><li>In command line, go to lib folder in CruiseControl. You will find cruisecontrol.jar</li><li>Now we need to add the jar file into our local repository.<div class="source"><pre> mvn install:install-file -Dfile=cruisecontrol.jar -DgroupId=net.sourceforge.cruisecontrol -DartifactId=cruisecontrol -Dversion=2.8.4 -Dpackaging=jar</pre></div></li><li>Done. Happy coding!! :)</li></ul></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">Copyright &#169;                    2010
                        <a href="http://www.abctech-thailand.com">ABC Tech Ltd. (Thailand)</a>.
            All Rights Reserved.      
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
